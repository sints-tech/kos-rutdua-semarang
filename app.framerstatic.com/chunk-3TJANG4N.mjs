import{a as w}from"https://app.framerstatic.com/chunk-N6T5M2U2.mjs";import{Ud as H,nd as W,td as U}from"https://app.framerstatic.com/chunk-EBH5X5S4.mjs";import{Ed as I,Kd as x,Ld as F,Ok as E,Pb as D,Ql as R,Sl as A,ev as B,l as V,la as k,sq as z,uq as p}from"https://app.framerstatic.com/chunk-WDCEA3EQ.mjs";import{v as L}from"https://app.framerstatic.com/chunk-2C4FJUEI.mjs";import{b as d,i as b}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{g as C}from"https://app.framerstatic.com/chunk-4CB4BQFV.mjs";import{D as v,K as h,X as S,u as P}from"https://app.framerstatic.com/chunk-IZV4HDYJ.mjs";import{a as g}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{j as u}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var Q=P("EngineChanges");var j=class{constructor(){u(this,"changes",new Set);u(this,"addChanges",(...t)=>{for(let o of t)this.changes.add(o)});u(this,"changeObserverFlags",[]);u(this,"changeObservers",[]);u(this,"inSignalAllObservers",!1);u(this,"observersToRemove",[])}get flags(){return this.changes}has(...t){for(let o of t)if(this.changes.has(o))return!0;return!1}observe(...t){let o=t.pop(),r=t;return C.isDebugBuild&&r.some(n=>n===void 0)&&Q.warn("changes.observe was called with undefined as one of the flags. It might be caused by observing a store that hasn't been instantiated yet."),this.changeObserverFlags.push(r),this.changeObservers.push(o),o}observeWithComponent(t,o,r){this.changeObserverFlags.push(t);let n=()=>{C.benchmarkSkipRendering||o.setState(r())};return this.changeObservers.push(n),n}removeObserver(t){if(this.inSignalAllObservers){this.observersToRemove.push(t);return}let o=this.changeObservers.indexOf(t);o!==-1&&(this.changeObserverFlags.splice(o,1),this.changeObservers.splice(o,1))}signalAllObservers(){if(!this.changes)return;let t=this.changes,o=this.changeObserverFlags,r=this.changeObservers;this.inSignalAllObservers=!0;for(let n=0;n<o.length;n++){let i=o[n];for(let l of i)if(t.has(l)){r[n]();break}}if(this.inSignalAllObservers=!1,this.observersToRemove.length>0){for(let n of this.observersToRemove)this.removeObserver(n);this.observersToRemove.length=0}this.changes.clear()}signalObserversFor(...t){let o=new Set(t),r=this.changeObserverFlags,n=this.changeObservers;for(let i=0;i<r.length;i++){let l=r[i];for(let s of l)if(o.has(s)){n[i]();break}}o.forEach(i=>this.changes.delete(i))}};function _(e){return e==="/"?"Home":(e=ee(e),e=Y(e),e=q(e),e=te(e),e=e.split(" ").map(L).join(" "),e)}function Y(e){return e.replace(/-+/gu," ")}function ee(e){return e.replace(D,"")}var $=/\s*\/+[/\s]*/gu;function te(e){return e.replace($," / ")}function q(e){return e.replace(/^[/\s]+|[/\s]+$/gu,"")}var oe=/\s+/gu,re=/-+/gu;function Ie(e){if(e==="Home")return"/";let t=e;return t=q(t),t=t.replace($,"-"),t=t.replace(oe,"-"),t=t.replace(re,"-"),t=t.toLowerCase(),"/"+t}function Ue(e,t){let o=t.instanceIdentifier,r=e.getPersistedModuleByLocalIdentifier(o),n=V.dataForIdentifier(o)??void 0;return{identifier:o,module:r,entity:n}}function He(e){return e.annotations?.framerSlug}function je(e,t="Collection"){return e.name?e.name.toLowerCase().includes("collection")?e.name:`${e.name.trim()} Collection`:t}function ne(e){switch(e.toLowerCase()){case"title":case"name":case"label":return!0;default:return!1}}function ie(e){return R(e)&&ne(e.name)}function le(e){return e.variables.find(ie)}function se(e,t){if(b(t))return;let r=e.getControlProp(t.id)?.value||t.initialValue;if(d(r)&&r.length>0)return r}function ae(e){return e.variables.find(A)}function ce(e,t){if(b(t))return;let r=e.getControlProp(t.id)?.value||t.initialValue;if(d(r)&&r.length>0)return r}function _e(e,t){let o=le(e),r=se(t,o);if(d(r))return r;let n=ae(e),i=ce(t,n);return d(i)?_(i):"Collection Item"}function M(e){let{ids:t}=e.stores.selectionStore,o=t[0];if(!o)return null;let r=e.tree.getNode(o);if(x(r))return r;if(F(r)){let n=e.tree.getNode(r.parentid);if(x(n))return n}return null}function $e(e){let t=M(e);return t?t.id:null}function qe(e){let t=M(e);return t?t.name:null}function Ke(e){let t=e.getContentManagementNode()?.loaded;return t?t.children.length:0}function Ze(e,t,o){let r=U(e,t);return!r||!o?!1:W(r).every(i=>{if(!i)return!1;for(let l of o)if(l.endsWith(i))return!0;return!1})}function y(e){return e.type==="richtext"&&d(e.value)}function ue(e,t){let o=h(e);return r=>{let n=h(r);if(!(!n||!o)&&(n.kind==="localModuleExport"&&o.kind==="localModuleExport"&&n.localId===o.localId||n.kind==="externalModuleExport"&&o.kind==="externalModuleExport"&&n.moduleId===o.moduleId&&n.exportSpecifier===o.exportSpecifier))return t}}function K(e,t){return e.replaceAll(p,(o,r)=>{let n=t(r);return n?`${z}="${n}"`:o})}function de(e,t){let o=e.getControlProps(),r={};for(let[n,i]of Object.entries(o)){if(!y(i))continue;let l=i.value,s=K(l,t),f=S(l),T=S(s),c;if(i.valueLocalized){c={};for(let m of Object.keys(i.valueLocalized)){let a=i.valueLocalized[m];if(!a)continue;let G=s!==l,O=a.hash===f&&G;if(!a.value){if(O){c[m]={...a,hash:T};continue}c[m]=a;continue}let J=K(a.value,t);c[m]={...a,value:J,hash:O?T:a.hash}}}if(i.value===s&&k(i.valueLocalized,c))continue;let N={...i,value:s};c&&(N.valueLocalized=c),r[E(n)]=N}return Object.keys(r).length>0?r:void 0}function Ge(e,t,o){let r=e.getContentManagementNode()?.loaded;if(!r)return;let n=ue(t,o);for(let i of r.children)for(let l of i.getUnsortedChildren()){let s=de(l,n);s&&l.set(s)}}function fe(e,t){let o=e.getControlProps();for(let r of Object.values(o))if(y(r)){if(r.value.includes(t))return!0;if(r.valueLocalized){for(let n of Object.keys(r.valueLocalized))if(r.valueLocalized[n]?.value?.includes(t))return!0}}return!1}function Je(e,t){let o=e.getContentManagementNode()?.loaded;if(!o)return!1;for(let r of o.children)for(let n of r.getUnsortedChildren())if(fe(n,t))return!0;return!1}function Qe(e){let t=new Set;for(let o of e.getUnsortedChildren()){let r=me(o);for(let n of r)t.add(n)}return[...t]}function me(e){let t=new Set,o=e.getControlProps();for(let r of Object.values(o)){if(!y(r))continue;let n=r.value.matchAll(p);for(let[,i]of n)v(i)&&t.add(i);if(r.valueLocalized)for(let i of Object.keys(r.valueLocalized)){let l=r.valueLocalized[i];if(!l?.value)continue;let s=l.value.matchAll(p);for(let[,f]of s)v(f)&&t.add(f)}}return[...t]}function Xe(e,t,o){let r=B(e.tree,t);if(!r)return;let n=o??r.getUnsortedChildren()[0];e.stores.scopeStore.select(w,{keepHistory:!1}),e.stores.selectionStore.set(n??r)}function Ye(e){let t=M(e);if(!t)return!1;let o=e.stores.contentManagementStore;return o.multiSelectedItems||o.isCreatingNewItem()?!1:!t.managedByPlugin}function Z(e,t){let o=e.stores.scopeStore.active;return g(I(o),"Content management node should be active"),o.children.toSorted(({name:r},{name:n})=>H(r||"",n||"",t))}function et(e,t){let o=e.stores.scopeStore.active;Z(e,t).forEach(({id:n},i)=>{e.moveNode(n,o.id,i)})}function tt(e,t){let o=e.stores.scopeStore.active;g(I(o),"Content management node should be active");let r=Z(e,t);return o.children.every(({id:n},i)=>r[i]?.id===n)}export{j as a,_ as b,Ie as c,Ue as d,He as e,je as f,le as g,se as h,ae as i,ce as j,_e as k,$e as l,qe as m,Ke as n,Ze as o,de as p,Ge as q,fe as r,Je as s,Qe as t,me as u,Xe as v,Ye as w,et as x,tt as y};
//# sourceMappingURL=https://app.framerstatic.com/chunk-3TJANG4N.mjs.map
