import{Ba as ve,D as he,Ga as ke,Ia as De,Nb as Te,kd as Ie,ld as Re,rc as U,va as G,xb as we}from"https://app.framerstatic.com/chunk-TTFL62JC.mjs";import{b as _}from"https://app.framerstatic.com/chunk-37BOALED.mjs";import{s as A}from"https://app.framerstatic.com/chunk-5LL2TI3J.mjs";import{a as ne}from"https://app.framerstatic.com/chunk-6M6DEEG6.mjs";import{ib as W}from"https://app.framerstatic.com/chunk-G2SVSL52.mjs";import{O as ye}from"https://app.framerstatic.com/chunk-D3O6H5GO.mjs";import{ed as N,gd as ge}from"https://app.framerstatic.com/chunk-N6T5M2U2.mjs";import{T as Ce,Tc as Ve,U as be,ng as Z,og as Pe}from"https://app.framerstatic.com/chunk-MJU7MCEH.mjs";import{Ai as D,Bd as le,Ci as pe,Di as ue,Fi as de,Iu as Q,Lc as se,Mi as ce,Oc as H,Pc as f,Tt as me,Ub as z,Vt as fe,dc as h,ec as L,l as ie}from"https://app.framerstatic.com/chunk-WDCEA3EQ.mjs";import{g as X}from"https://app.framerstatic.com/chunk-3PGDFP4U.mjs";import{a as V,b as F,i as ae}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as J,b as E}from"https://app.framerstatic.com/chunk-NOOQGO4X.mjs";import{y as re,z as j}from"https://app.framerstatic.com/chunk-IZV4HDYJ.mjs";import{e as y}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var S=y(J());var v=y(E()),K="boolean";function He(a){return`boolean-input-row-popout-${a}`}function go({nodeIds:a,controlProp:n,control:o,controlKey:l,onChange:C,onContextMenu:d,sortable:p,traitTypeKeys:P,supportsVariables:b=!1,supportsComputedValues:k=!1,supportsFetchDataValues:w=!1}){let T=N(),{value:e}=n,B=p?void 0:o.title||h(l),i=V(o.defaultValue)?o.defaultValue:void 0,r=He(l),t=(0,S.useCallback)(u=>{C({type:o.type,value:u},l)},[l,o,C]),I=(0,S.useCallback)(()=>{V(i)&&t(i)},[i,t]),$=_(u=>{let c=o.title||h(l),Y=V(n.value)?n.value:!0,M=W({engine:T,scopeId:u,type:K,name:c,initialValue:Y});M&&t(M)},[t,l,o,n]),R=(0,S.useCallback)(u=>{t(u),A.navigation.presentPopout(r)},[t,r]),q=(0,S.useCallback)(()=>{let u=z({type:"boolean",value:V(e)?e:!1}),c=H("boolean",u,[]);return R(c),c},[R,e]),x=_(()=>{if(f(e))if(L(e)){let u=ve(T,e),c=V(u)?u:!0;t(c)}else se(e)?t(V(i)?i:!0):void 0},[t,i,e]);return(0,v.jsx)(G,{title:B,onContextMenu:d,onResetToDefault:p?void 0:I,resetToDefaultEnabled:V(i)&&i!==e,traitTypeKeys:P,withReorderControl:p,supportsVariables:b,supportsComputedValues:k,variableType:K,dynamicValue:f(e)?e:null,onSelectVariable:t,onCreateVariable:$,onSelectComputedValue:R,onRemoveDynamicValue:x,computedValuePopoutId:r,supportsFetchDataValues:w,onSelectFetchDataValue:q,children:f(e)?(0,v.jsx)(U,{title:B,value:e,outputControl:o,expectedType:K,onRemove:x,onChangeDynamicValue:t,popoutId:r,supportsComputedValues:b,supportsFetchDataValues:w,nodeIds:a}):(0,v.jsxs)(Pe,{style:p?void 0:we,children:[(0,v.jsx)(Z,{identifier:!0,title:o.enabledTitle||"Yes",selected:e===!0,onSelect:t}),(0,v.jsx)(Z,{identifier:!1,title:o.disabledTitle||"No",selected:e===!1,onSelect:t})]})})}var xe=y(J()),Ne={type:"add",variant:"info",icon:"color-wheel",action:{title:"Install",onClick:ye},text:"To sample colors, please use the new desktop app",key:"install-desktop-app",duration:5e3};function Po({channel:a,toast:n}){(0,xe.useEffect)(()=>{if(!a)return;let o={async sampleColor(){return window.EyeDropper?{color:(await new window.EyeDropper().open().catch(d=>{if(d?.name==="AbortError")return{sRGBHex:void 0};throw d})).sRGBHex}:(n(Ne),{})}};return ne.on(a).register(o)},[a,n])}var O=y(J());var g=y(E()),Me="link";function ee(a){return`computed-link-${a}`}var et=O.default.memo(function({control:n,controlKey:o,controlProp:l,onChange:C,onContextMenu:d,sortable:p,traitTypeKeys:P,supportsVariables:b=!1,supportsComputedValues:k=!1,supportsFetchDataValues:w=!1,nodeIds:T=[]}){let e=N(),B=(0,O.useMemo)(()=>Te(o||ce()),[o]),{value:i}=l,r=f(i)||D(i)?i:re,t=s=>{C(o,m=>({...m,value:s}),T),he(r,s)},I=s=>{let{defaultValue:m}=n;return F(m)?m:s},$=()=>{let s=I();ae(s)&&t(s)},R=()=>{t(void 0)},q=e.scheduler.wrapHandler(s=>{let m=n.title||h(o),Ee=F(r)?r:I("");e.beginUndoGroup();let te=W({engine:e,scopeId:s,type:Me,name:m,initialValue:Ee});te&&t(te),e.endUndoGroup()}),x=e.scheduler.wrapHandler(()=>{f(r)&&t(void 0)}),u=e.scheduler.wrapHandler(()=>{let s=z({type:"link",value:D(i)?i:void 0}),m=H("link",s,[]);return c(m),m}),c=e.scheduler.wrapHandler(s=>{t(s),A.navigation.presentPopout(ee(o))}),Y=p?void 0:n.title||h(o),M=I(),oe=!L(r)&&!D(r),Le=Ie(e,r),Se=Ae(e,r),Be=F(M)&&D(i)&&!de(i,ue({url:M}));return(0,g.jsx)(G,{title:Y,onContextMenu:d,onResetToDefault:$,resetToDefaultEnabled:Be,variableType:Me,onCreateVariable:q,onRemoveDynamicValue:x,dynamicValue:f(i)?i:null,onSelectVariable:t,traitTypeKeys:P,withReorderControl:p,reorderColumnCount:2,supportsVariables:b,supportsComputedValues:k,computedValuePopoutId:ee(o),onSelectComputedValue:c,supportsFetchDataValues:w,onSelectFetchDataValue:u,children:f(r)?(0,g.jsx)(U,{title:n.title||h(o),value:r,outputControl:n,expectedType:"link",popoutId:ee(o),onRemove:x,onChangeDynamicValue:t,nodeIds:T,supportsComputedValues:k,supportsFetchDataValues:w,controlReferenceInfo:void 0}):(0,g.jsx)(ke,{id:B,popout:(0,g.jsx)(Re,{link:j(r)?void 0:r,onChange:t,supportsVariables:b,supportsPageLinks:We(e),supportsSlugVariables:b}),navigationTitle:"Link",displayDivider:!0,title:j(r)?"Add\u2026":Le,preview:(0,g.jsx)(De,{background:oe?X.swatchBackgroundPlaceholderForLink:void 0,children:Se??(0,g.jsx)(Ve,{})}),onDelete:D(r)?R:void 0,titleColor:oe?X.inputLabel:void 0})})});function We(a){if(!ge(a))return!0;let{scopeType:n}=a.stores.scopeStore;switch(n){case"CanvasPage":case"DesignPage":return!1;default:return!0}}function Ae(a,n){if(!pe(n))return;let{webPageId:o,pathVariables:l}=n;if(!l)return;let C=a.tree.getNodeWithTrait(o,le);if(!C)return;let d=ie.dataForIdentifier(C.dataIdentifier);if(!d)return;let p=d.annotations?.framerSlug;if(!p)return;let P=l[p];if(!L(P))return;let b=Q(me,p);if(P.id===b)return(0,g.jsx)(be,{});let k=Q(fe,p);if(P.id===k)return(0,g.jsx)(Ce,{})}export{go as a,Po as b,et as c};
//# sourceMappingURL=https://app.framerstatic.com/chunk-HLQFPTOD.mjs.map
